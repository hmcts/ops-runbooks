---
title: Cloud Gateway Express Route
weight: 10
last_reviewed_on: 2025-05-23
review_in: 6 months
---
# <%= current_page.data.title %>

We have a couple of express route circuits from our Azure tenant to Cloud Gateway.

These are used to connect some of our Azure resources to services running within MoJ.

The express route circuits form part of virtual hubs inside virtual WANs within Azure.

You can learn more about virtual WANs from the [Microsoft docs](https://learn.microsoft.com/en-us/azure/virtual-wan/virtual-wan-about).

## How do we create virtual WANs and express routes?

We have a GitHub repo called [hmcts/azure-platform-virtualwan](https://github.com/azure-platform-virtualwan).

This repo contains the code to deploy:

- virtual WAN
- virtual hubs
- express route circuit
- express route connection
- express route gateway
- routing advertisements

We have two virtual WANs, one in [nonprod](https://portal.azure.com/#resource/subscriptions/fb084706-583f-4c9a-bdab-949aac66ba5c/resourceGroups/hmcts-virtualwan-nonprod/providers/Microsoft.Network/virtualWans/hmcts-virtualwan-nonprod) and one in [prod](https://portal.azure.com/#resource/subscriptions/0978315c-75fe-4ada-9d11-1eb5e0e0b214/resourceGroups/CloudGateway-ExpressRoute/providers/Microsoft.Network/virtualWans/HMCTS-VirtualWAN).

Within each virtual WAN, there are one or more virtual hubs.

Each virtual hub will have an express route circuit associated with it. 

Each express route circuit has its own express route gateway.

The express route gateway is a device in Microsoft's datacentre that advertises our routes to the destination, in this case Cloud Gateway's firewall. 

It will also learn routes advertised to it from the firewall.

This ensures services in our Azure tenant can route traffic to services hosted within MoJ and vice versa.

You can find the routes by going to the virtual hub > Routing > Effective routes.

<img src="../images/effective-routes.png" style="height:500px;">

The overall picture of the network configuration looks like this:

<img src="../images/express-route.png" style="height:500px;">