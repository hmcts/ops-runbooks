---
title: Databases
last_reviewed_on: 2025-06-27
review_in: 12 months
weight: 60
---
# <%= current_page.data.title %>  

Steps to take when there is the need to access production databases to run queries that retrieve, update or delete data from tables.
Other teams sometimes need certain pieces of information from the production DB and would raise
a ticket, providing their sql query and requesting PlatOps run these against
production Db as they don't have access to this.

*Note:* there's a [self service](https://tools.hmcts.net/confluence/display/DTSPO/%5BSelf-Service%5D+-+Database) process that should be used by the team if they have an SC person on their team instead.

To fulfill one of these request, you can follow the steps below.

## Prerequisites ðŸ’¥

* **Important:** Verify you are all setup as outlined in [cnp-module-postgres](https://github.com/hmcts/cnp-module-postgres#production)
* Grant yourself access to production Bastion as outlined in [cnp-module-postgres](https://github.com/hmcts/cnp-module-postgres#production), in the `Steps to access` section of the document
  * **Note:** If not on call then just one day is sufficient, you could also customize how long you want access for.

## Suggested Steps

* Confirm the database connection host. This should be in the ticket, but you can also confirm by searching it in the portal on [Azure](https://portal.azure.com/#home)
* Sanity check the query provided in the ticket, not that you are expected to know any sql ðŸ¤¥
  * Sometimes typos or misplaced variables are easy to spot
* Jump on to the production bastion, steps on how to do this are in the [cnp-module-postgres](https://github.com/hmcts/cnp-module-postgres#production)  documentation
  
_Example_

  ![Connecting to DB](images/connecting.png)

## Guides

* [Connecting to a Database](executing-queries.html)
* [Deleting cases from CCD Datastore Database](deleting-cases-from-ccd-datastore.html)
* [Restoring a Database](restoring-an-azure-single-server-database.html)
* [Restoring OWASP Dependency Check DB in Sandbox](restoring-owasp-sandbox-db-from-prod.html)
##* [Deleting Elastic Search Index](deleting-elastic-search-index.html)
* [Create Modes in Postgres Flexible Server](create-modes-in-postgres-flexible-server.html)
##* [Elastic Search Support](elastic-search-support.html)
* [Connecting to Azure Cache for Redis](connecting-to-azure-cache-for-redis.html)
