---
title: Azure Update Manager - Operations Guide
weight: 255
last_reviewed_on: 2026-02-26
review_in: 12 months
---
# <%= current_page.data.title %>

**Contents**

- [Intro](#intro)
- [Pre-requirements](#pre-requirements)
- [Scripting AUM](#scripting-aum)
- [Enabling VM OS Scans](#enabling-vm-os-scans)
- [Updating OS](#updating-os)


## Intro
Azure Update Manager is a unified service, tightly integrated into the Azure Portal, simplifying the patching of Windows and Linux operating systems.

HMCTS is using Azure Update Manager (AUM) within multiple Azure platforms, so be sure to check the repositories being used are correct for your platform.  

- **Azure Update Manager [documentation](https://learn.microsoft.com/en-us/azure/update-manager/)**

- **Support matrix for Azure Update Manager**
  - Only supported configurations will receive patches [Supported Operating Systems](https://learn.microsoft.com/en-us/azure/update-manager/support-matrix?tabs=azurevm%2Cazurevm-os#supported-operating-systems).

## Pre-requirements
AUM requires an assessment of the VM's OS before anything else can happen, which can be triggered manually in the Azure Portal. This is also a very useful troubleshooting step, as it proves AUM operates and ths process is benign.  

Find the VM in the Azure portal, select Updates, from the Operations menu. Then click "Check for updates" and confirm to trigger the update. Wait 10 minutes, to an hour for the results to be returned. An error message will be displayed, if the process fails for any reason.

# Scripting AUM

HMCTS Cloud Native Platform adopted AUM in February 2024, then Crime Platform in January 2026, so many VMs are already protected. Additional VMs should be added to the repositories described below.

## Enabling VM OS Scans

To ensure all VMs are automatically assessed, Azure policy has been used to set VM **Update Settings**, enabling periodic assessment for all VMs within the management group or subscription.

Specific instructions are in the README.md file of each repository.

CNP (Via Management Groups) - [GitHub Azure-Policy](https://github.com/hmcts/azure-policy)
azure-policy/assignments/mgmt-groups/mg-HMCTS/
- Windows VMs - assign.aum_Windows_scan.json
- Linux VMs - assign.assign.aum_Linux_scan.json

CP (Via Subscriptions) - [GitHub Azure-Policy](https://github.com/hmcts/cpp-azure-policy)
assignments/environment/subscriptions/subscription-XYZ/
- Linux VMs - assign.aum_scan_ubuntu24_vms.json
- Linux VMSS - assign.aum_scan_ubuntu24_vmss.json

## Updating OS

Azure maintenance configurations are used to select VMs for updating, assigning the types of updates, scheduling and managing reboots.
**Be aware** that terraform limits each maintenance configuration to a single subscription ID, so the code repeats for EACH subscription.

**CNP**
[CNP Maintenance Repository](https://github.com/hmcts/Azure-Update-Manager-Maintenance-Configurations)

**CP**
[CP Maintenance Repository](https://github.com/hmcts/cpp-aum-maintenance-configurations)

See the detailed README.md file in the repository for further details.  
