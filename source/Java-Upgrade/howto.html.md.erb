---
title: Java Upgrade How To Guide
last_reviewed_on: 2024-05-13
review_in: 12 months
weight: 50
---

# <%= current_page.data.title %>

This page will contain helpful guidance on updating Java.

## Add new image to the agents

You will need to add the new java image to the jenkins-packer [repo](https://github.com/hmcts/jenkins-packer) first so it can be used by the jenkins agents.

Example of Java 21 being [added](https://github.com/hmcts/jenkins-packer/pull/164/files)

## Upgrade application

On the application repos you will need to update the files using java to the latest version we are currently supporting. The main three you should look at: 

- `acb.tpl.yaml`
- `build.gradle`
- `Dockerfile`

You also might need to add some dependencies and fix deprecations/vulnerabilities but this will vary based on the application.

Before applying the upgrade it's best to test it on a lower environment first.

Example of Pdf-service being upgraded to [v21](https://github.com/hmcts/rpe-pdf-service/pull/753/files)

**NOTE:** If you are upgrading the Java version in a template, we found the best way to do this is by creating a test app from the template and upgrading it. Once you are happy it is upgraded and working, you can then make the same changes to the template.

## Warning when upgrading java on camunda

It is best to check [camunda docs](https://docs.camunda.org/enterprise/announcement/) before attempting to upgrade java as the java version might not be compatible with the currect version of camunda.  If this is the case you will need to [upgrade camunda](https://hmcts.github.io/ops-runbooks/Camunda/howto.html).

## List of apps we currently support that will need to be upgraded.

- [Plum](https://github.com/hmcts/cnp-plum-recipes-service)
- [Toffee](https://github.com/hmcts/sds-toffee-recipes-service)
- [Draft-store](https://github.com/hmcts/draft-store/)
- [Pdf-service](https://github.com/hmcts/rpe-pdf-service)
- [Camunda](https://github.com/hmcts/camunda-bpm)
- [Template-spring-boot](https://github.com/hmcts/template-spring-boot)
- [Spring-boot-template](https://github.com/hmcts/spring-boot-template/)
- [Service-auth-provider-app](https://github.com/hmcts/service-auth-provider-app)
